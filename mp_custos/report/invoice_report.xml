<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="report_invoice_document" inherit_id="account.report_invoice_document">
        <table name="invoice_line_table" position="before">
            <t t-set="has_discount_eur" t-value="any(line.discount_eur for line in o.invoice_line_ids)"/>
        </table>
        <!-- delete unnecessary columns -->
        <xpath expr="//th[@name='th_quantity']" position="replace"/>
        <xpath expr="//th[@name='th_priceunit']" position="replace"/>
        <th name="th_discount" position="attributes">
            <attribute name="t-if">display_discount and not has_discount_eur</attribute>
        </th>
        <td name="td_discount" position="attributes">
            <attribute name="t-if">display_discount and not has_discount_eur</attribute>
        </td>
        <th name="th_discount" position="after">
            <th t-if="has_discount_eur" name="th_discount_eur" >
                REM â‚¬.
            </th>
        </th>
        <!-- <xpath expr="//th[@name='th_price_unit']" position="replace"/> -->
        <!-- <xpath expr="//th[@name='th_taxes']" position="replace"/> -->
        <xpath expr="//span[@t-field='line.quantity']/.." position="replace"/>
        <xpath expr="//span[@t-field='line.price_unit']/.." position="replace"/>
        <!-- <xpath expr="//span[@t-field='line.discount']/.." position="replace"/> -->
        <xpath expr="//span[@t-field='line.discount']/.." position="after">
            <td t-if="has_discount_eur">
                <span t-field="line.discount_eur" t-field-options='{"widget": "monetary", "display_currency": "o.currency_id"}'/>
            </td>
        </xpath> 
        <xpath expr="//div[@id='payment_term']/.." position="inside">
            <xpath expr="//div[@name='comment']" position="move"/>
        </xpath>
        <xpath expr="//div[@id='payment_term']/.." position="attributes">
            <attribute name="style">page-break-inside: avoid;</attribute>
        </xpath>
        <xpath expr="//div[@name='comment']" position="attributes">
            <attribute name="t-attf-style">#{'text-align:justify;text-justify:inter-word; page-break-inside: avoid;' if o.company_id.terms_type != 'html' else 'page-break-inside: avoid;'} </attribute>
        </xpath>
        <!-- <xpath expr="//span[@id='line_tax_ids']/.." position="replace"/> -->

        <!-- add contact info and title to partner -->
        <!-- <xpath expr="//address[@t-field='o.partner_id']" position="attributes">
            <attribute name="t-options">{"widget": "contact", "fields": ["address", "title", "name"], "no_marker": True,
                "no_contact_marker": False}
            </attribute>
        </xpath> -->
        <!-- add a space before payment reference -->
        <!-- <xpath expr="//span[@t-field='o.payment_reference']" position="before">
            <br/>
        </xpath> -->
    </template>

</odoo>